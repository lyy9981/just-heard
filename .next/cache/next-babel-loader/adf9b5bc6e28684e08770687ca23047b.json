{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // this isn't importing the escape-string-regex module\n// to reduce bytes\n\nfunction escapeRegex(str) {\n  return str.replace(/[|\\\\{}()[\\]^$+*?.-]/g, '\\\\$&');\n}\n\nfunction getRouteRegex(normalizedRoute) {\n  // Escape all characters that could be considered RegEx\n  const escapedRoute = escapeRegex(normalizedRoute.replace(/\\/$/, '') || '/');\n  const groups = {};\n  let groupIndex = 1;\n  const parameterizedRoute = escapedRoute.replace(/\\/\\\\\\[([^/]+?)\\\\\\](?=\\/|$)/g, (_, $1) => {\n    const isCatchAll = /^(\\\\\\.){3}/.test($1);\n    groups[$1 // Un-escape key\n    .replace(/\\\\([|\\\\{}()[\\]^$+*?.-])/g, '$1').replace(/^\\.{3}/, '') // eslint-disable-next-line no-sequences\n    ] = {\n      pos: groupIndex++,\n      repeat: isCatchAll\n    };\n    return isCatchAll ? '/(.+?)' : '/([^/]+?)';\n  });\n  let namedParameterizedRoute; // dead code eliminate for browser since it's only needed\n  // while generating routes-manifest\n\n  if (true) {\n    namedParameterizedRoute = escapedRoute.replace(/\\/\\\\\\[([^/]+?)\\\\\\](?=\\/|$)/g, (_, $1) => {\n      const isCatchAll = /^(\\\\\\.){3}/.test($1);\n      const key = $1 // Un-escape key\n      .replace(/\\\\([|\\\\{}()[\\]^$+*?.-])/g, '$1').replace(/^\\.{3}/, '');\n      return isCatchAll ? `/(?<${escapeRegex(key)}>.+?)` : `/(?<${escapeRegex(key)}>[^/]+?)`;\n    });\n  }\n\n  return Object.assign({\n    re: new RegExp('^' + parameterizedRoute + '(?:/)?$', 'i'),\n    groups\n  }, namedParameterizedRoute ? {\n    namedRegex: `^${namedParameterizedRoute}(?:/)?$`\n  } : {});\n}\n\nexports.getRouteRegex = getRouteRegex;","map":{"version":3,"names":["Object","defineProperty","exports","value","escapeRegex","str","replace","getRouteRegex","normalizedRoute","escapedRoute","groups","groupIndex","parameterizedRoute","_","$1","isCatchAll","test","pos","repeat","namedParameterizedRoute","key","assign","re","RegExp","namedRegex"],"sources":["/Users/yiyi/projects/just-heard/node_modules/next/dist/next-server/lib/router/utils/route-regex.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// this isn't importing the escape-string-regex module\n// to reduce bytes\nfunction escapeRegex(str) {\n    return str.replace(/[|\\\\{}()[\\]^$+*?.-]/g, '\\\\$&');\n}\nfunction getRouteRegex(normalizedRoute) {\n    // Escape all characters that could be considered RegEx\n    const escapedRoute = escapeRegex(normalizedRoute.replace(/\\/$/, '') || '/');\n    const groups = {};\n    let groupIndex = 1;\n    const parameterizedRoute = escapedRoute.replace(/\\/\\\\\\[([^/]+?)\\\\\\](?=\\/|$)/g, (_, $1) => {\n        const isCatchAll = /^(\\\\\\.){3}/.test($1);\n        groups[$1\n            // Un-escape key\n            .replace(/\\\\([|\\\\{}()[\\]^$+*?.-])/g, '$1')\n            .replace(/^\\.{3}/, '')\n        // eslint-disable-next-line no-sequences\n        ] = { pos: groupIndex++, repeat: isCatchAll };\n        return isCatchAll ? '/(.+?)' : '/([^/]+?)';\n    });\n    let namedParameterizedRoute;\n    // dead code eliminate for browser since it's only needed\n    // while generating routes-manifest\n    if (typeof window === 'undefined') {\n        namedParameterizedRoute = escapedRoute.replace(/\\/\\\\\\[([^/]+?)\\\\\\](?=\\/|$)/g, (_, $1) => {\n            const isCatchAll = /^(\\\\\\.){3}/.test($1);\n            const key = $1\n                // Un-escape key\n                .replace(/\\\\([|\\\\{}()[\\]^$+*?.-])/g, '$1')\n                .replace(/^\\.{3}/, '');\n            return isCatchAll\n                ? `/(?<${escapeRegex(key)}>.+?)`\n                : `/(?<${escapeRegex(key)}>[^/]+?)`;\n        });\n    }\n    return Object.assign({ re: new RegExp('^' + parameterizedRoute + '(?:/)?$', 'i'), groups }, (namedParameterizedRoute\n        ? {\n            namedRegex: `^${namedParameterizedRoute}(?:/)?$`,\n        }\n        : {}));\n}\nexports.getRouteRegex = getRouteRegex;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C,E,CACA;AACA;;AACA,SAASC,WAAT,CAAqBC,GAArB,EAA0B;EACtB,OAAOA,GAAG,CAACC,OAAJ,CAAY,sBAAZ,EAAoC,MAApC,CAAP;AACH;;AACD,SAASC,aAAT,CAAuBC,eAAvB,EAAwC;EACpC;EACA,MAAMC,YAAY,GAAGL,WAAW,CAACI,eAAe,CAACF,OAAhB,CAAwB,KAAxB,EAA+B,EAA/B,KAAsC,GAAvC,CAAhC;EACA,MAAMI,MAAM,GAAG,EAAf;EACA,IAAIC,UAAU,GAAG,CAAjB;EACA,MAAMC,kBAAkB,GAAGH,YAAY,CAACH,OAAb,CAAqB,6BAArB,EAAoD,CAACO,CAAD,EAAIC,EAAJ,KAAW;IACtF,MAAMC,UAAU,GAAG,aAAaC,IAAb,CAAkBF,EAAlB,CAAnB;IACAJ,MAAM,CAACI,EAAE,CACL;IADK,CAEJR,OAFE,CAEM,0BAFN,EAEkC,IAFlC,EAGFA,OAHE,CAGM,QAHN,EAGgB,EAHhB,CAAD,CAIN;IAJM,CAAN,GAKI;MAAEW,GAAG,EAAEN,UAAU,EAAjB;MAAqBO,MAAM,EAAEH;IAA7B,CALJ;IAMA,OAAOA,UAAU,GAAG,QAAH,GAAc,WAA/B;EACH,CAT0B,CAA3B;EAUA,IAAII,uBAAJ,CAfoC,CAgBpC;EACA;;EACA,UAAmC;IAC/BA,uBAAuB,GAAGV,YAAY,CAACH,OAAb,CAAqB,6BAArB,EAAoD,CAACO,CAAD,EAAIC,EAAJ,KAAW;MACrF,MAAMC,UAAU,GAAG,aAAaC,IAAb,CAAkBF,EAAlB,CAAnB;MACA,MAAMM,GAAG,GAAGN,EAAE,CACV;MADU,CAETR,OAFO,CAEC,0BAFD,EAE6B,IAF7B,EAGPA,OAHO,CAGC,QAHD,EAGW,EAHX,CAAZ;MAIA,OAAOS,UAAU,GACV,OAAMX,WAAW,CAACgB,GAAD,CAAM,OADb,GAEV,OAAMhB,WAAW,CAACgB,GAAD,CAAM,UAF9B;IAGH,CATyB,CAA1B;EAUH;;EACD,OAAOpB,MAAM,CAACqB,MAAP,CAAc;IAAEC,EAAE,EAAE,IAAIC,MAAJ,CAAW,MAAMX,kBAAN,GAA2B,SAAtC,EAAiD,GAAjD,CAAN;IAA6DF;EAA7D,CAAd,EAAsFS,uBAAuB,GAC9G;IACEK,UAAU,EAAG,IAAGL,uBAAwB;EAD1C,CAD8G,GAI9G,EAJC,CAAP;AAKH;;AACDjB,OAAO,CAACK,aAAR,GAAwBA,aAAxB"},"metadata":{},"sourceType":"script"}